<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D3 Exploding Circle Animation</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #222;
        }
    </style>
</head>
<body>
    <svg width="800" height="600"></svg>
    <script>
        var svg = d3.select("svg");

        // Initial circle properties
        var circle = svg.append("circle")
            .attr("cx", 400)
            .attr("cy", 300)
            .attr("r", 20)
            .attr("fill", "orange")
            .attr("stroke", "red")
            .attr("stroke-width", 2);

        // Animate the circle to "explode"
        circle.transition()
            .duration(1000)  // Duration of the explosion
            .attr("r", 150)  // Increase the radius to simulate explosion
            .attr("opacity", 0)  // Fade out to simulate dissipation
            .ease(d3.easeExpOut)  // Exponential easing for a dramatic effect
            .on("end", function() {
                d3.select(this).remove();  // Remove the circle after the animation
            });

        // Create small fragments for the explosion effect
        var fragmentCount = 20;  // Number of fragments
        var fragments = svg.selectAll(".fragment")
            .data(d3.range(fragmentCount))
            .enter().append("circle")
            .attr("class", "fragment")
            .attr("cx", 400)
            .attr("cy", 300)
            .attr("r", 5)
            .attr("fill", "orange")
            .attr("opacity", 0.8);

        // Animate the fragments to spread out from the original circle
        fragments.transition()
            .duration(1000)
            .delay(200)  // Delay to start after the main circle
            .attr("cx", function(d) { return 400 + Math.cos(d * (2 * Math.PI / fragmentCount)) * 200; })
            .attr("cy", function(d) { return 300 + Math.sin(d * (2 * Math.PI / fragmentCount)) * 200; })
            .attr("opacity", 0)  // Fade out as they move away
            .ease(d3.easeCubicOut)  // Smooth easing for fragments
            .on("end", function() {
                d3.select(this).remove();  // Remove fragments after animation
            });
    </script>
</body>
</html>
